# Creating new RDS database

Run the following after creating new RDS database as user "rally":

```SQL
CREATE USER :username WITH  
 LOGIN NOSUPERUSER NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
GRANT rds_iam TO :username;  
  
GRANT rally_readwrite_dev TO :username;  
GRANT rally_readwrite_test TO :username;  
GRANT rally_readwrite_load TO :username;  
GRANT rally_readonly_prod TO :username;  
  
CREATE ROLE rally_readwrite_prod WITH  
 NOLOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
CREATE ROLE rally_readwrite_dev WITH  
 NOLOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
  
CREATE ROLE rally_readwrite_test WITH  
 NOLOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
CREATE ROLE rally_readwrite_load WITH  
 NOLOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
CREATE ROLE rally_readonly_test WITH  
 NOLOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
CREATE ROLE rally_readonly_dev WITH  
 NOLOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
  
CREATE ROLE rally_readonly_prod WITH  
 NOLOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
CREATE ROLE rally_app_dev WITH  
 LOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
GRANT rally_readwrite_dev, rds_iam TO rally_app_dev;  
  
CREATE ROLE rally_app_test WITH  
 LOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
GRANT rally_readwrite_test, rds_iam TO rally_app_test;  
  
  
CREATE ROLE rally_app_prod WITH  
 LOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
GRANT rally_readwrite_prod, rds_iam TO rally_app_prod;  
  
CREATE ROLE xz020 WITH  
 NOLOGIN NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;  
  
GRANT rally_readwrite_prod TO rally;
```